<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>{% block title %}Administration{% endblock %}</title>
        {% block stylesheets %}
        	<meta name="viewport" content="width=device-width, initial-scale=1">
        	<!-- Bootstrap core CSS -->
		    <link href="{{ asset('bootstrap/css/bootstrap.css') }}" rel="stylesheet">
		
		    <!-- Add custom CSS here -->
		    <link href="{{ asset('sb-admin/css/sb-admin.css') }}" rel="stylesheet">
		    <link rel="stylesheet" href="{{ asset('sb-admin/font-awesome/css/font-awesome.min.css') }}">
		    <!-- Page Specific CSS -->
		    <link rel="stylesheet" href="http://cdn.oesmith.co.uk/morris-0.4.3.min.css">
		    
		    
		    <!-- JavaScript -->
		    <script src="{{ asset('js/jquery.min.js') }}"></script>
		
		    
		    
        	<script src="{{ asset('bootstrap/js/bootstrap.js') }}"></script>
        	<script type="text/javascript" src="{{ asset('js/jquery.tablesorter.min.js') }}"></script>
		    
		    
		    <link rel="stylesheet" href="{{ asset('css/jquery-ui.css')}}">
        	<script src="{{ asset('js/jquery-ui.js')}}"></script>
        	
        	<link rel="stylesheet" type="text/css" href="{{ asset('css/bootstrap3-wysihtml5.min.css')}}"></link>
        	
        	
			<script src="{{ asset('js/wysihtml5-0.3.0.min.js')}}"></script>
			<script src="{{ asset('js/handlebars.runtime.min.js')}}"></script>
			<script src="{{ asset('js/bootstrap3-wysihtml5.min.js')}}"></script>
		    
		    
		    
		    
        {% endblock %}
        
        {% block calendar %}
			<!-- Add custom CSS here  -->
			<link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
			<link href='http://fonts.googleapis.com/css?family=Righteous' rel='stylesheet' type='text/css'>
			<link href="{{ asset('plugins/fullcalendar/fullcalendar.css') }}" rel="stylesheet">
			<link href="{{ asset('plugins/style.css') }}" rel="stylesheet">
			
			
		    
		    <script src="{{ asset('plugins/jquery/jquery-2.1.0.min.js')}}"></script>
			<script src="{{ asset('plugins/jquery-ui/jquery-ui.min.js')}}"></script>
			<script>
				function LoadCalendarScript(callback){
					function LoadFullCalendarScript(){
						if(!$.fn.fullCalendar){
							$.getScript("{{ asset('plugins/fullcalendar/fullcalendar.js') }}", callback);
						}
						else {
							if (callback && typeof(callback) === "function") {
								callback();
							}
						}
					}
					if (!$.fn.moment){
						$.getScript("{{ asset('plugins/moment/moment.min.js') }}", LoadFullCalendarScript);
					}
					else {
						LoadFullCalendarScript();
					}
				}
			</script>
		   
		    
		    
        {% endblock %}
        
                
        <link rel="icon" type="image/x-icon" href="{{ asset('favicon.ico') }}" />
    </head>
    <body>
        {% block body %}
        	<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="{{ path('Admin_home') }}">Manager</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse navbar-ex1-collapse">
          <ul class="nav navbar-nav side-nav">
            <li class="active"><a href="{{ path('Admin_home') }}"><i class="fa fa-home"></i> Accueil</a></li>
            <li><a href="{{ path('Liste_produit') }}"><i class="fa fa-barcode"></i> Produits</a></li>
            <li><a href="{{ path('Liste_categorie') }}"><i class="fa fa-table"></i> Categories</a></li>
            <li><a href="{{ path('Liste_cgv') }}"><i class="fa fa-pencil"></i> CGV</a></li>
            <li><a href="{{ path('Maj_texte',{'texte':'bienvenue'}) }}"><i class="fa fa-pencil"></i> Texte de bienvenue</a></li>
            <li><a href="{{ path('stats') }}"><i class="fa fa-bar-chart-o"></i> Statistiques</a></li>            
            <li><a href="{{ path('calendar') }}"><i class="fa fa-calendar"></i> Calendrier</a></li>
            
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-caret-square-o-down"></i> Dropdown <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="#">Dropdown Item</a></li>
                <li><a href="#">Another Item</a></li>
                <li><a href="#">Third Item</a></li>
                <li><a href="#">Last Item</a></li>
              </ul>
            </li>
          </ul>

          <ul class="nav navbar-nav navbar-right navbar-user">
            <li class="dropdown messages-dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-envelope"></i> Messages <span class="badge">77</span> <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li class="dropdown-header">7 New Messages</li>
                <li class="message-preview">
                  <a href="#">
                    <span class="avatar"><img src="http://placehold.it/50x50"></span>
                    <span class="name">John Smith:</span>
                    <span class="message">Hey there, I wanted to ask you something...</span>
                    <span class="time"><i class="fa fa-clock-o"></i> 4:34 PM</span>
                  </a>
                </li>
                <li class="divider"></li>
                <li class="message-preview">
                  <a href="#">
                    <span class="avatar"><img src="http://placehold.it/50x50"></span>
                    <span class="name">John Smith:</span>
                    <span class="message">Hey there, I wanted to ask you something...</span>
                    <span class="time"><i class="fa fa-clock-o"></i> 4:34 PM</span>
                  </a>
                </li>
                <li class="divider"></li>
                <li class="message-preview">
                  <a href="#">
                    <span class="avatar"><img src="http://placehold.it/50x50"></span>
                    <span class="name">John Smith:</span>
                    <span class="message">Hey there, I wanted to ask you something...</span>
                    <span class="time"><i class="fa fa-clock-o"></i> 4:34 PM</span>
                  </a>
                </li>
                <li class="divider"></li>
                <li><a href="#">View Inbox <span class="badge">7</span></a></li>
              </ul>
            </li>
            <li class="dropdown alerts-dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-bell"></i> Alerts <span class="badge">3</span> <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="#">Default <span class="label label-default">Default</span></a></li>
                <li><a href="#">Primary <span class="label label-primary">Primary</span></a></li>
                <li><a href="#">Success <span class="label label-success">Success</span></a></li>
                <li><a href="#">Info <span class="label label-info">Info</span></a></li>
                <li><a href="#">Warning <span class="label label-warning">Warning</span></a></li>
                <li><a href="#">Danger <span class="label label-danger">Danger</span></a></li>
                <li class="divider"></li>
                <li><a href="#">View All</a></li>
              </ul>
            </li>
            <li class="dropdown user-dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-user"></i> {{ app.security.getToken().getUser().getUsername() }} <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="#"><i class="fa fa-user"></i> Profile</a></li>
                <li><a href="#"><i class="fa fa-envelope"></i> Inbox <span class="badge">7</span></a></li>
                <li><a href="#"><i class="fa fa-gear"></i> Settings</a></li>
                <li class="divider"></li>
                <li><a href="{{ path('logout') }}"><i class="fa fa-power-off"></i> Log Out</a></li>
              </ul>
            </li>
          </ul>
        </div><!-- /.navbar-collapse -->
      </nav>
        {% endblock %}
        
        {% block javascript %}
        	
		    
			
		    
		    
		    <script>
				$(document).ready(function(){
					$(function(){
						$("#liste_cat").tablesorter();
						$("#liste_cgv").tablesorter();
						$("#liste_prd").tablesorter();
					});
				});
				
				$( "#search" ).keyup(function() {
					$.ajax({
						type: "POST",
						url: "{{ path('Liste_produit_ajax') }}",
						data: { variable: $( "#search" ).val() },
						success: function(data){
							$( "#contenu" ).html( data );
							$("#liste_prd").tablesorter();
							$( "#search" ).blur();
						},
						dataType: "html"
					});
				});
				$( "#search-cat" ).keyup(function() {
					$.ajax({
						type: "POST",
						url: "{{ path('Liste_categorie_ajax') }}",
						data: { variable: $( "#search-cat" ).val() },
						success: function(data){
							$( "#contenu-cat" ).html( data );
							$("#liste_cat").tablesorter();
							$( "#search-cat" ).blur();
						},
						dataType: "html"
					});
				});

				$( "#search-cgv" ).keyup(function() {
					$.ajax({
						type: "POST",
						url: "{{ path('Liste_cgv_ajax') }}",
						data: { variable: $( "#search-cgv" ).val() },
						success: function(data){
							$( "#contenu-cgv" ).html( data );
							$("#liste_cgv").tablesorter();
							$( "#search-cgv" ).blur();
						},
						dataType: "html"
					});
				});
				
				$(".alert").delay(3000).toggle( "blind" );

				 function spr(route) {
					 $( "#dialog-confirm" ).dialog({
						 resizable: false,
						 height:140,
						 modal: true,
						 buttons: {
						 "Confirmer": function() {
							 $( this ).dialog( "close" );
							 	document.location.href=route;
							 },
						 	"Annuler": function() {
						 		$( this ).dialog( "close" );
						 	}
						 }
					});
				};
			</script>
			
			<script>
			  $('#projet_adminbundle_texte_contenu').wysihtml5();
			</script>
			
        	<div id="dialog-confirm" title="Supression" style="display: none;font-size:12px">
				<p><span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>Etes-vous sure?</p>
			</div>
		    
        {% endblock %}
        
        {% block stats %}
        	
		    <!-- Page Specific Plugins -->
		    <script src="http://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
		    <script src="http://cdn.oesmith.co.uk/morris-0.4.3.min.js"></script>
		    <script src="{{ asset('sb-admin/js/morris/chart-data-morris.js') }}"></script>
			<script type="text/javascript">
			
			function stats() {

			    window.a = Morris.Area({
					  // ID of the element in which to draw the chart.
					  element: 'morris-chart-area',
					  // Chart data records -- each entry in this array corresponds to a point on
					  // the chart.
					  data: {{ data|raw }},
					  // The name of the data record attribute that contains x-visitss.
					  xkey: 'd',
					  // A list of names of data record attributes that contain y-visitss.
					  ykeys: ['visits'],
					  // Labels for the ykeys -- will be displayed when you hover over the
					  // chart.
					  labels: ['Visits'],
					  // Disables line smoothing
					  smooth: false,
					  stacked: true,
				      hideHover: 'auto',
				      resize: true,
				      redraw: true
				});
				
			    window.b = Morris.Line({
					  // ID of the element in which to draw the chart.
					  element: 'morris-chart-line',
					  // Chart data records -- each entry in this array corresponds to a point on
					  // the chart.
					  data: {{ data|raw }},
					  // The name of the data record attribute that contains x-visitss.
					  xkey: 'd',
					  // A list of names of data record attributes that contain y-visitss.
					  ykeys: ['visits'],
					  // Labels for the ykeys -- will be displayed when you hover over the
					  // chart.
					  labels: ['Visits'],
					  // Disables line smoothing
					  smooth: false,
					  stacked: true,
				      hideHover: 'auto',
				      resize: true,
				      redraw: true
				});
			}
			
			$(document).ready(function() {
				stats();


				var StatsResize1;
				var StatsResize2;
			    $(window).resize(function(event){
			    	event.preventDefault();
			    	clearTimeout(StatsResize1);
			    	StatsResize1 = setTimeout(window.a.redraw(), 1000);
			    	
			    	clearTimeout(StatsResize2);
			    	StatsResize2 = setTimeout(window.b.redraw(), 1000);
			    });
			});
			</script>
        {% endblock %}
        
        
    </body>
</html>
